{% extends "_layouts/auth.njk" %}

{% block body %}
  <form action="/signup" method="POST" enctype="multipart/form-data">
    {# FLASH MESSAGES #}
    {% include "_partials/flash.njk" %}
    
    {# Avatar Upload #}
    <label for="avatar">
      <img src="/images/avatar.svg" height="24">
    </label>
    <input
      id="avatar"
      name="avatar"
      type="file"
    />

    {# Full Name #}
    <input
      type="text"
      name="name"
      placeholder="Nome Completo"
    />

    {# Email #}
    <input
      type="email"
      name="email"
      placeholder="Seu e-mail"
    />

    {# Password #}
    <input
      type="password"
      name="password"
      placeholder="Senha secreta"
    />

    {# Provider (or not) #}
    <label for="provider">
      <input
        id="provider"
        type="checkbox"
        name="provider"
        value="1"
      />
      Sou cabelereiro(a)
    </label>

    {# Subit btn #}
    <button type="submit">
      Criar Conta
    </button>

    <a href="/">JÃ¡ possuo conta</a>
  </form>

  <script type="text/javascript">
    var avatarInput = document.getElementById('avatar')
    var img = document.querySelector('label[for=avatar] img')

    avatarInput.onchange = function(e) {
      img.classList.add('preview')
      img.src = URL.createObjectURL(e.target.files[0])
    }
  </script>
{% endblock %}